<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="./resources/css/style.css">

    <script>
        // Immediately set theme before page content loads
        (function () {
            const savedTheme = localStorage.getItem('theme') || 'theme-dark'; // Default to light if not set
            document.documentElement.setAttribute('data-theme', savedTheme); // Use documentElement for earliest possible application
        })();
    </script>
</head>

<body>
    <div id="themeSelector">
        <img class="theme-icon" id="sunIcon" src="./resources/icons/Universum-Sun-Icon.svg" alt="Light Mode"
            style="display: none;" />
        <img class="theme-icon" id="moonIcon" src="./resources/icons/Universum-Moon-Icon.svg" alt="Dark Mode" />
    </div>

    <div class="logo-container">
        <a href="index.html" class="universum">Universum</a>
    </div>

    <div class="form-container">
        <h2>Sign Up or Log In</h2>
        <h4>Email</h4>
        <input type="email" id="userEmail" placeholder="Enter Email"><br>
        <h4>Password</h4>
        <p>(Please select 8-16 points.)</p>
        <button id="clearPasswordButton" class="button-tertiary">Clear Password</button>
        <div class="interactive-password-container">
            <svg id="linesContainer" width="300" height="300"></svg>
            <div class="number" data-value="0">0</div>
            <div class="number" data-value="1">1</div>
            <div class="number" data-value="2">2</div>
            <div class="number" data-value="3">3</div>
            <div class="number" data-value="4">4</div>
            <div class="number" data-value="5">5</div>
            <div class="number" data-value="6">6</div>
            <div class="number" data-value="7">7</div>
            <div class="number" data-value="8">8</div>
            <div class="number" data-value="9">9</div>
            <div class="number" data-value="x">ùí≥</div>
            <div class="number" data-value="e">Œµ</div>
            <div id="passwordArea" class="password-area"></div> <!-- Don't forget the area to display the password -->
        </div>
        <button id="otherOptionsButton" class="button-tertiary">Other Options</button>
        <div id="manualPasswordContainer">
            <input type="text" id="manualPasswordInput" placeholder="Enter Password">
        </div>
        <span id="loginErrorMessage"></span>
        <div class="button-container">
            <button id="loginButton" class="button-secondary">Login</button>
            <button id="signupButton" class="button-secondary">Signup</button>
        </div>
        <button id="forgotPasswordButton" class="button-tertiary">Forgot Password</button>
    </div>

    <footer>
        <p>¬© 2024 Universum Language Project</p>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/10.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.10.0/firebase-firestore.js"></script>
    <script type="module" src="./resources/js/login.js"></script>
    <script src="./resources/js/themeSelector.js"></script>
</body>

</html>